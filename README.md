# СКАТ

Репозиторий содержит компоненты грамматического модуля [Санкт-Петербургского корпуса агиографических текстов](http://project.phil.spbu.ru/scat/) (СКАТ).

Ожидаемая структура директорий для входных и выходных файлов:

```
|- inp
   |- annotator
   |- converter
   |- tokenizer
|- out
```

Размещение входных файлов по поддиректориям `inp` зависит от того, для какого компонента они предназначены.

## tokenizer

Осуществляет токенизацию исходников транслитерированных житий, набранных в «альтернативной кодировке» (CP866), и помещает каждый токен на отдельную строку вида

```
токен\t\t\t\t\t\t
```

Назначение символов табуляции в том, чтобы неразмеченные тексты далее обрабатывались на общих основаниях с размеченными. Выходные файлы имеют расширение `tsv`.

## converter

*TODO*

## Основной блок

* **src**: исходники транслитерированных житийных текстов, набранные в «альтернативной кодировке» (CP866).
* **grm**: файлы морфологически размеченных житий, разбитые на фрагменты по 200–300 словоупотреблений.

Рабочие скрипты — **src_to_txt** и **txt_to_xml**.

### src_to_txt

Осуществляет токенизацию исходников житий, содержащихся в папке *src*, и помещает каждый токен на отдельную строку. Результирующие файлы появляются в директории **txt**.

Построчное размещение токенов призвано структурно уподобить неразмеченные тексты размеченным (из папки *grm*), чтобы их дальнейшая обработка протекала единообразно.

### txt_to_xml

Конвертирует токенизированные жития в формат XML и помещает результирующие файлы в директорию **xml**. Словоформы при этом также подвергаются
1. переводу из собственной кодировки СКАТ в UTF-8,
2. нормализации (сведению орфографических вариантов).

Для того чтобы конвертировать в XML размеченные жития, необходимо в папке *txt* произвести предварительную замену автоматически сгенерированных файлов результатами конкатенации соответствующих блоков разметки из папки *grm*. Конкатенация произодится по-разному в зависимости от платформы:

```
copy /b DP*.csv DmPrlc.csv (DOS)
cat DP*.csv > DmPrlc.csv (Linux)
```

Также при преобразовании в XML к аннотированным житиям применяется процедура частичной лемматизации; соответствующие данные поступают в атрибуты `@pos` (частеречный тег), `@msd` (теги остальных граммем, разделённые точкой с запятой) и `@lemma` (лемма).

## TXM

Для установки корпуса СКАТ на TXM необходимо

1. установить шрифт AgioUnicode;
2. объединить содержимое папок *xml* и *txm*;
3. запустить процедуру импорта, задействуя режим XTZ.
